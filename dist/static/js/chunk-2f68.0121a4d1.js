(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2f68"],{J1F3:function(e,a,t){"use strict";t.d(a,"a",function(){return r});var n=t("t3Un");function r(e){return Object(n.a)({url:"/rest/reportFroms/query",method:"post",data:e})}},yb5i:function(e,a,t){"use strict";t.r(a);var n=t("7Qib"),r=t("Yfch"),l=t("J1F3"),i=Date.now(),s={disabledDate:function(e){var a=e.getTime();return a<i-5184e6||a>i}},o={data:function(){return{queryParams:{agentUserName:"",associateSellerPhone:"",associateSellerName:""},dateRange:[],listLoading:!0,list:[],agentList:[],colums:[{key:"associateSellerPhone",label:"账号"},{key:"agentUserName",label:"代理/商家名称",width:250},{key:"orderCount",label:"订单数量",sortable:!0},{key:"totalIncome",label:"收入总额",sortable:!0},{key:"onlineIncome",label:"在线收入",sortable:!0},{key:"cashIncome",label:"现金收入",sortable:!0},{key:"adIncome",label:"广告收入",sortable:!0},{key:"equipmentTotalCount",label:"设备总数",sortable:!0},{key:"equipmentOnlineCount",label:"在线设备数量",sortable:!0}],pageInfo:{total:20,pageSize:10,currPage:1},options:s,active:"merchant"}},beforeMount:function(){this.dateRange[0]=Object(n.d)(Date.now()-864e5,"{y}-{m}-{d}"),this.dateRange[1]=Object(n.d)(Date.now()-864e5,"{y}-{m}-{d}"),this.queryList()},methods:{handlerTabClick:function(){this.list=[],this.agentList=[],this.pageInfo={total:20,pageSize:10,currPage:1},this.resetQueryParams(),this.queryList()},resetQueryParams:function(){this.queryParams={agentUserName:"",associateSellerPhone:"",associateSellerName:""},this.dateRange=[],this.dateRange[0]=Object(n.d)(Date.now()-864e5,"{y}-{m}-{d}"),this.dateRange[1]=Object(n.d)(Date.now()-864e5,"{y}-{m}-{d}")},handleQueryParams:function(){this.queryParams.associateSellerPhone&&Object(r.b)(this.queryParams.associateSellerPhone)||!this.queryParams.associateSellerPhone?this.queryList(this.pageInfo.currPage):this.$message({message:"请正确输入11位手机号码",type:"error"})},queryList:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.listLoading=!0,this.pageInfo.currPage=a;var t=this.queryParams;t.pageIndex=this.pageInfo.currPage,t.pageSize=this.pageInfo.pageSize,t.startDate=this.dateRange[0],t.endDate=this.dateRange[1],t.roleStr=this.active,"agent"===this.active?this.list=[]:"merchant"===this.active&&(this.agentList=[]),Object(l.a)(t).then(function(a){if(e.listLoading=!1,a.data){var t=a.data&&a.data.items||[];"agent"===e.active?e.list=t:"merchant"===e.active&&(e.agentList=t),e.pageInfo.total=a.data.total||0}else e.pageInfo.total=0})},handleSizeChange:function(e){this.pageInfo.pageSize=e,this.queryList(this.pageInfo.currPage)},handleCurrentChange:function(e){this.queryList(e)}}},c=t("KHd+"),u=Object(c.a)(o,function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"content-area"},[t("el-form",{staticStyle:{"margin-bottom":"20px"},attrs:{inline:!0,"label-width":"100px","label-position":"right"}},[t("el-form-item",{attrs:{label:"统计日期"}},[t("el-date-picker",{attrs:{clearable:!1,"picker-options":e.options,type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.dateRange,callback:function(a){e.dateRange=a},expression:"dateRange"}})],1),e._v(" "),t("p"),e._v(" "),"agent"===e.active?t("el-form-item",{attrs:{label:"代理商名称"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入代理商名称"},model:{value:e.queryParams.agentUserName,callback:function(a){e.$set(e.queryParams,"agentUserName",a)},expression:"queryParams.agentUserName"}})],1):e._e(),e._v(" "),"merchant"===e.active?t("el-form-item",{attrs:{label:"商家名称"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入商家名称"},model:{value:e.queryParams.associateSellerName,callback:function(a){e.$set(e.queryParams,"associateSellerName",a)},expression:"queryParams.associateSellerName"}})],1):e._e(),e._v(" "),t("el-form-item",{attrs:{label:"商家手机号码"}},[t("el-input",{attrs:{type:"tel",placeholder:"请输入商家手机号码"},model:{value:e.queryParams.associateSellerPhone,callback:function(a){e.$set(e.queryParams,"associateSellerPhone",a)},expression:"queryParams.associateSellerPhone"}})],1),e._v(" "),t("p"),e._v(" "),t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleQueryParams}},[e._v("查询")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.resetQueryParams}},[e._v("清空查询")])],1),e._v(" "),t("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handlerTabClick},model:{value:e.active,callback:function(a){e.active=a},expression:"active"}},[t("el-tab-pane",{attrs:{label:"商家",name:"merchant"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.list,height:450,border:""}},e._l(e.colums,function(e,a){return t("el-table-column",{key:a,attrs:{prop:e.key,label:e.label,width:e.width,sortable:e.sortable,align:"center"}})})),e._v(" "),t("el-pagination",{attrs:{"page-sizes":[10,20,30,40],"page-size":e.pageInfo.pageSize,total:e.pageInfo.total,"current-page":e.pageInfo.currPage,background:"",layout:"total, prev, pager, next, sizes, jumper"},on:{"size-change":e.handleSizeChange,"prev-click":e.handleCurrentChange,"next-click":e.handleCurrentChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),t("el-tab-pane",{attrs:{label:"代理",name:"agent"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.agentList,height:450,border:""}},e._l(e.colums,function(e,a){return t("el-table-column",{key:a,attrs:{prop:e.key,label:e.label,width:e.width,sortable:e.sortable,align:"center"}})})),e._v(" "),t("el-pagination",{attrs:{"page-sizes":[10,20,30,40],"page-size":e.pageInfo.pageSize,total:e.pageInfo.total,"current-page":e.pageInfo.currPage,background:"",layout:"total, prev, pager, next, sizes, jumper"},on:{"size-change":e.handleSizeChange,"prev-click":e.handleCurrentChange,"next-click":e.handleCurrentChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},[],!1,null,null,null);u.options.__file="ManagerReport.vue";a.default=u.exports}}]);