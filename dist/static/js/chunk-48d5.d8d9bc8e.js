(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-48d5"],{"8i/m":function(e,t,n){},R3lB:function(e,t,n){"use strict";var r=n("8i/m");n.n(r).a},"RU/L":function(e,t,n){n("Rqdy");var r=n("WEpk").Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},Rqdy:function(e,t,n){var r=n("Y7ZC");r(r.S+r.F*!n("jmDH"),"Object",{defineProperty:n("2faE").f})},SEkw:function(e,t,n){e.exports={default:n("RU/L"),__esModule:!0}},V7oC:function(e,t,n){"use strict";t.__esModule=!0;var r,a=n("SEkw"),u=(r=a)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,u.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},iCc5:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},nsxO:function(e,t,n){"use strict";n.r(t);var r=n("qpgI"),a=n("omMh"),u={data:function(){return{code:!1,isgetCode:!1,flag:!1,time:60,timer:null,isForbidden:!1,text:"获取验证码",BDInfo:{name:"",phone:"",phoneCode:""},BDInfoRules:{name:[{required:!0,message:"请输入BD姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:function(e,t,n){/^1\d{10}$/.test(t)?n():n(new Error("请输入正确的11位手机号"))},trigger:"blur"}],phoneCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},methods:{getPhoneCode:function(){var e=this;/^1\d{10}/.test(this.BDInfo.phone)?this.flag||(this.isForbidden=!0,this.isgetCode=!0,this.text="正在发送",this.flag=!0,Object(r.F)({phoneNumber:this.BDInfo.phone}).then(function(t){setTimeout(function(){e.flag=!1},1e3),0===t.result?(e.timer=setInterval(function(){e.time=e.time-1,e.text="已发送（"+e.time+"）",-1===e.time&&(e.isForbidden=!1,clearInterval(e.timer),e.timer=null,e.text="重新发送",e.time=60)},1e3),e.$message({message:"手机短信验证码已发送",type:"success"})):102===t.result?(e.isForbidden=!1,e.isgetCode=!1,e.$message({message:"手机未注册或失效",type:"error"}),e.text="获取验证码"):(e.isForbidden=!1,e.isgetCode=!1,e.$message({message:"手机短信验证码发送失败",type:"error"}),e.text="重新发送")})):this.$message({message:"请填写有效的11位手机号码",type:"error"})},validateCode:function(e){var t=this,n={phoneNumber:this.BDInfo.phone,verifyCode:this.BDInfo.phoneCode};Object(r.E)(n).then(function(n){return n?(t.code=!0,!!e&&void t.creatBd({bdName:t.BDInfo.name,loginPhone:t.BDInfo.phone,type:0,code:t.BDInfo.phoneCode})):(t.code=!1,!1)})},submit:function(){var e=this;this.$refs.BDInfoRef.validate(function(t){if(t){if(!e.isgetCode)return void e.$message({message:"请发送验证码",type:"error"});e.validateCode(t)}})},creatBd:function(e){var t=this;a.a.addBDInfo(e).then(function(e){e&&(t.$message({message:"新增成功!",type:"success"}),setTimeout(function(){t.$router.push({path:"insideManage/bdRoleManage"})},1500))},function(e){})}}},o=(n("R3lB"),n("KHd+")),s=Object(o.a)(u,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-area bd-manage"},[n("el-form",{ref:"BDInfoRef",staticStyle:{"margin-top":"20px"},attrs:{model:e.BDInfo,rules:e.BDInfoRules,"label-width":"120px","label-position":"left"}},[n("el-form-item",{attrs:{label:"BD姓名",prop:"name"}},[n("el-input",{staticClass:"input-300",attrs:{placeholder:"请输入BD姓名",maxlength:"11"},model:{value:e.BDInfo.name,callback:function(t){e.$set(e.BDInfo,"name",t)},expression:"BDInfo.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[n("el-input",{staticClass:"input-300",attrs:{placeholder:"请输入手机号码",maxlength:"11"},model:{value:e.BDInfo.phone,callback:function(t){e.$set(e.BDInfo,"phone",t)},expression:"BDInfo.phone"}}),e._v(" "),n("span",{staticClass:"input-anno"},[e._v("请输入11位的手机号码")])],1),e._v(" "),n("el-form-item",{attrs:{label:"验证码",prop:"phoneCode"}},[n("el-input",{staticClass:"input-300",attrs:{placeholder:"请输入验证码",maxlength:"6"},model:{value:e.BDInfo.phoneCode,callback:function(t){e.$set(e.BDInfo,"phoneCode",t)},expression:"BDInfo.phoneCode"}}),e._v(" "),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{disabled:e.isForbidden,type:"primary"},on:{click:e.getPhoneCode}},[e._v(e._s(e.text))])],1),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.submit(t)}}},[e._v("保存")])],1)],1)},[],!1,null,null,null);s.options.__file="AddBd.vue";t.default=s.exports},omMh:function(e,t,n){"use strict";var r=n("14Xm"),a=n.n(r),u=n("D3Ub"),o=n.n(u),s=n("iCc5"),i=n.n(s),c=n("V7oC"),p=n.n(c),f=n("t3Un"),l=function(){function e(){i()(this,e)}return p()(e,null,[{key:"getAgentList",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/queryAgents",method:"get",params:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getFirstAgentList",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/firstAgents/queryFirstAgents",method:"get",params:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addAgent",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/insideManage/addAgent",method:"post",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getAgentInfo",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/getAgent",method:"get",params:{agentUserId:t}}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateAgentInfo",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/addOrUpdateAgent",method:"post",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateAgent",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/updateAgent",method:"post",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addAgentInfo",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/addAgent",method:"post",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addBD",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/addOrUpdateAgent",method:"post",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateBDInfo",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/insideManage/addAgent",method:"post",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateBD",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/updateBD",method:"post",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addBDInfo",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/addBD",method:"post",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getBDList",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/getUserByRole",method:"get",params:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getShanghuInfo",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/getMerchant",method:"get",params:{phone:t}}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getBusinProjects",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/getAgentBusiness",method:"get",params:{params:t}}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getUserByRole",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/getUserByRole",method:"get",params:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"queryFirstAgentsByControl",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/firstAgents/queryFirstAgentsByControl",method:"get",params:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"saveAgentBusiness",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/saveAgentBusiness",method:"post",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"agentManageRoleMapResourcesApi",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/roleMapResources",method:"get",params:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"agentManageListDefaultMenuApi",value:function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)({url:"/agentManage/listDefaultMenu",method:"get",params:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.a=l}}]);