(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0fe5"],{"14Xm":function(e,t,n){e.exports=n("u938")},"5I/0":function(e,t,n){},B5LO:function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return u});var r=n("Yfch"),o=function(e,t,n){if(!t||t&&!Object(r.d)(t))return n(new Error("请输入正确的11位手机号码"));n()},a=function(e,t,n){if(t&&!/^[A-Za-z0-9]{6,16}$/.test(t))return n(new Error("请输入6-16位的数字或字母"));n()},i=function(e,t,n){if(!/^([1-9][\d]{0,7}|0)(\.[\d]{1,2})?$/.test(t)||t>1e4)return n(new Error("价格必须为大于0的正数,价格需小于10000,最多保留2位小数"));n()},l=function(e,t,n){if(!/^([1-9][0-9]*)$/.test(t)||t>1440)return n(new Error("服务时间必须为大于0的小于等于1440(24小时)正整数"));n()},u=function(e,t,n){if(!/^([1-9][0-9]*)$/.test(t)||0===t)return n(new Error("模拟投币数必须为大于0的整数"));n()}},D3Ub:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n("4d7F"),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new a.default(function(e,n){return function r(o,i){try{var l=t[o](i),u=l.value}catch(e){return void n(e)}if(!l.done)return a.default.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}("next")})}}},"i/up":function(e,t,n){"use strict";var r=n("5I/0");n.n(r).a},ls82:function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag",c="object"==typeof e,s=t.regeneratorRuntime;if(s)c&&(e.exports=s);else{(s=t.regeneratorRuntime=c?e.exports:{}).wrap=V;var p="suspendedStart",m="suspendedYield",d="executing",f="completed",h={},g={};g[i]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==r&&o.call(v,i)&&(g=v);var b=_.prototype=w.prototype=Object.create(g);T.prototype=b.constructor=_,_.constructor=T,_[u]=T.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===T||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(b),e},s.awrap=function(e){return{__await:e}},L(S.prototype),S.prototype[l]=function(){return this},s.AsyncIterator=S,s.async=function(e,t,n,r){var o=new S(V(e,t,n,r));return s.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},L(b),b[u]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},s.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},s.values=O,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return l.type="throw",l.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),h}}}function V(e,t,n,r){var o=t&&t.prototype instanceof w?t:w,a=Object.create(o.prototype),i=new R(r||[]);return a._invoke=function(e,t,n){var r=p;return function(o,a){if(r===d)throw new Error("Generator is already running");if(r===f){if("throw"===o)throw a;return F()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=I(i,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=x(e,t,n);if("normal"===u.type){if(r=n.done?f:m,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=f,n.method="throw",n.arg=u.arg)}}}(e,n,i),a}function x(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function T(){}function _(){}function L(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(e){var t;this._invoke=function(n,r){function a(){return new Promise(function(t,a){!function t(n,r,a,i){var l=x(e[n],e,r);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,a,i)},function(e){t("throw",e,a,i)}):Promise.resolve(c).then(function(e){u.value=e,a(u)},i)}i(l.arg)}(n,r,t,a)})}return t=t?t.then(a,a):a()}}function I(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,I(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=x(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}return{next:F}}function F(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},"mG/D":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"g",function(){return i}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return c});var r=[{value:"CDZ",label:"充电桩"}],o={CDZ:"充电桩"},a={0:"无",1:"脉冲",2:"串口"},i={disabled:"禁用","1Normal":"启用"},l={result:1,description:null,para:[{redirect:!0,name:"IC卡、投币、最大功率设置",cmd:"ee0c000000000001",sort:125673},{redirect:!0,name:"查询消费总额数据",cmd:"ee07",sort:125675},{redirect:!0,name:"设置IC卡、投币器是否可用",cmd:"ee09",sort:125676},{redirect:!0,name:"设备3档计费功率、比例设置",cmd:"ee15",sort:125683},{redirect:!0,name:"查询整机的充电状态 ",cmd:"ee24",sort:125685},{redirect:!0,name:"设备的版本号",cmd:"ee25",sort:125686},{redirect:!0,name:"免费充电模式、音量调节设置",cmd:"ee2a000000000001",sort:125702},{redirect:!0,name:"最低浮充功率、浮充时间设置",cmd:"ee2a000000000002",sort:125703},{redirect:!0,name:"刷卡充电时间设置",cmd:"ee2a000000000003",sort:125704},{redirect:!0,name:"充电站充满自停、刷卡退费设置",cmd:"ee0c000000000002",sort:125710}]},u={result:1,description:null,para:{settingCmd:"ee08",cmd:"ee0c000000000001",params:'[{"key":"MAX_POWER","name":"最大输出限制功率","length":2,"componentType":"inputInt","componentValueType":"int","componentValue":"5019","componentValueUnit":"W","componentValueRange":"{\\"min\\":\\"0\\",\\"max\\":\\"10000\\"}"},{"key":"IC_MONEY","name":"每次刷IC卡的消耗金额","length":1,"componentType":"inputFloat","componentValueType":"float_0.1","componentValue":"1.3","componentValueUnit":"元","componentValueRange":"{\\"min\\":\\"0\\",\\"max\\":\\"25.5\\"}"},{"key":"TIME1","name":"第一个币的充电时间","length":2,"componentType":"inputInt","componentValueType":"int","componentValue":"997","componentValueUnit":"分","componentValueRange":"{\\"min\\":\\"0\\",\\"max\\":\\"999\\"}"},{"key":"TIME2","name":"第二个币的充电时间","length":2,"componentType":"inputInt","componentValueType":"int","componentValue":"996","componentValueUnit":"分","componentValueRange":"{\\"min\\":\\"0\\",\\"max\\":\\"999\\"}"},{"key":"TIME3","name":"第三个币的充电时间","length":2,"componentType":"inputInt","componentValueType":"int","componentValue":"998","componentValueUnit":"分","componentValueRange":"{\\"min\\":\\"0\\",\\"max\\":\\"999\\"}"}]',brand:""}},c={result:4,description:null,para:{brand:"AJ",uniqueCode:"",machineType:"娃娃机",machineTypeCode:35,paramsLength:17,params:[{id:0,name:"待机音乐",length:1,disabled:!1,description:"",componentType:"select",componentValueType:"int",componentValue:"1",componentValueUnit:"",componentValueRange:{min:"0",max:"4"},componentValueArray:[{value:0,text:"关闭"},{value:1,text:"第1首音乐"},{value:2,text:"第2首音乐"},{value:3,text:"第3首音乐"},{value:4,text:"第4首音乐"}],componentValueSwitch:null,visible:!0},{id:1,name:"几币",length:1,disabled:!1,description:"",componentType:"inputInt",componentValueType:"int",componentValue:"1",componentValueUnit:"个",componentValueRange:{min:"1",max:"100"},componentValueArray:[{value:1,text:""}],componentValueSwitch:null,visible:!0},{id:2,name:"几玩",length:1,disabled:!1,description:"",componentType:"inputInt",componentValueType:"int",componentValue:"1",componentValueUnit:"局",componentValueRange:{min:"1",max:"100"},componentValueArray:[{value:1,text:""}],componentValueSwitch:null,visible:!0},{id:3,name:"游戏时间",length:1,disabled:!1,description:"",componentType:"inputInt",componentValueType:"int",componentValue:"60",componentValueUnit:"秒",componentValueRange:{min:"5",max:"60"},componentValueArray:[{value:1,text:""}],componentValueSwitch:null,visible:!0},{id:4,name:"空中抓物",length:1,disabled:!1,description:"",componentType:"switch",componentValueType:"int",componentValue:"50",componentValueUnit:"",componentValueRange:{min:"0",max:"1"},componentValueArray:null,componentValueSwitch:{open:1,close:0},visible:!0},{id:5,name:"游戏模式",length:1,disabled:!1,description:"",componentType:"select",componentValueType:"int",componentValue:"0",componentValueUnit:"",componentValueRange:{min:"0",max:"4"},componentValueArray:[{value:0,text:"弱抓力模式"},{value:1,text:"强爪力固定"},{value:2,text:"概率累积固定"},{value:3,text:"概率累积随机"},{value:4,text:"贩卖模式"}],componentValueSwitch:null,visible:!0},{id:6,name:"中奖概率",length:2,disabled:!1,description:"",componentType:"inputInt",componentValueType:"int",componentValue:"16",componentValueUnit:"",componentValueRange:{min:"1",max:"250"},componentValueArray:[{value:1,text:""}],componentValueSwitch:null,visible:!0},{id:7,name:"强抓力电压",length:2,disabled:!1,description:"",componentType:"inputFloat",componentValueType:"float1",componentValue:"15.0",componentValueUnit:"V",componentValueRange:{min:"15.0",max:"47.5"},componentValueArray:[{value:1,text:""}],componentValueSwitch:null,visible:!0},{id:8,name:"弱抓力电压",length:2,disabled:!1,description:"",componentType:"inputFloat",componentValueType:"float1",componentValue:"4.5",componentValueUnit:"V",componentValueRange:{min:"4.5",max:"20.0"},componentValueArray:[{value:1,text:""}],componentValueSwitch:null,visible:!0},{id:9,name:"强抓力维持时间",length:2,disabled:!1,description:"",componentType:"inputFloat",componentValueType:"float1",componentValue:"1.0",componentValueUnit:"",componentValueRange:{min:"0.1",max:"3.0"},componentValueArray:[{value:1,text:""}],componentValueSwitch:null,visible:!0},{id:10,name:"到顶转弱",length:1,disabled:!1,description:"",componentType:"switch",componentValueType:"int",componentValue:"0",componentValueUnit:"",componentValueRange:{min:"0",max:"1"},componentValueArray:null,componentValueSwitch:{open:1,close:0},visible:!0},{id:11,name:"局数开机保留",length:1,disabled:!1,description:"",componentType:"switch",componentValueType:"int",componentValue:"0",componentValueUnit:"",componentValueRange:{min:"0",max:"1"},componentValueArray:null,componentValueSwitch:{open:1,close:0},visible:!0},{id:12,name:"连投几局送一局",length:1,disabled:!1,description:"",componentType:"inputInt",componentValueType:"int",componentValue:"0",componentValueUnit:"局",componentValueRange:{min:"1",max:"60"},componentValueArray:[{value:1,text:""}],componentValueSwitch:null,visible:!0}],groups:[{name:"基础设置",indexStart:0,indexEnd:6,indexIds:null,description:null,visible:!0},{name:"爪力设置",indexStart:7,indexEnd:10,indexIds:null,description:null,visible:!0},{name:"其他设置",indexStart:11,indexEnd:12,indexIds:null,description:null,visible:!0}],buttonGroups:null,buttons:[{name:"设置接口参数",queryFunctionCode:33,functionCode:32,disabled:!1,paramsLength:3,params:[{id:0,name:"接口类型",length:1,disabled:!1,description:"",componentType:"select",componentValueType:"int",componentValue:"1",componentValueUnit:"",componentValueRange:{min:"0",max:"3"},componentValueArray:[{value:0,text:"TTL_3V3"},{value:1,text:"RS232"},{value:2,text:"TTL_5V"},{value:3,text:"RS485"}],componentValueSwitch:null,visible:!0},{id:1,name:"波特率",length:1,disabled:!1,description:"",componentType:"select",componentValueType:"int",componentValue:"3",componentValueUnit:"",componentValueRange:{min:"0",max:"7"},componentValueArray:[{value:0,text:"4800"},{value:1,text:"9600"},{value:2,text:"19200"},{value:3,text:"38400"},{value:4,text:"57600"},{value:5,text:"115200"},{value:6,text:"128000"},{value:7,text:"256000"}],componentValueSwitch:null,visible:!0},{id:2,name:"预留",length:1,disabled:!1,description:"",componentType:"inputInt",componentValueType:"int",componentValue:"0",componentValueUnit:"个",componentValueRange:{min:"0",max:"255"},componentValueArray:null,componentValueSwitch:null,visible:!1}],refresh:!1},{name:"本地账目",queryFunctionCode:34,functionCode:36,disabled:!1,paramsLength:21,params:[{id:0,name:"设备状态",length:1,disabled:!1,description:"",componentType:"select",componentValueType:"int",componentValue:"1",componentValueUnit:"",componentValueRange:{min:"0",max:"12"},componentValueArray:[{value:0,text:"空闲"},{value:1,text:"投币器1错误"},{value:2,text:"投币器2错误"},{value:3,text:"光眼错误"},{value:4,text:"天车后微动错误"},{value:5,text:"天车前微动错误"},{value:6,text:"天车左微动错误"},{value:7,text:"天车上微动错误"},{value:8,text:"天车下微动错误"},{value:9,text:"天车到达礼品口错误"},{value:10,text:"天车回到起始位置错误"},{value:11,text:"主板存储器错误"},{value:12,text:"奖池错误"}],componentValueSwitch:null,visible:!0},{id:1,name:"投币总数",length:4,disabled:!1,description:"",componentType:"inputInt",componentValueType:"int",componentValue:"0",componentValueUnit:"个",componentValueRange:{min:"0",max:"2147480000"},componentValueArray:null,componentValueSwitch:null,visible:!0},{id:2,name:"线下投币总数",length:4,disabled:!1,description:"",componentType:"inputInt",componentValueType:"int",componentValue:"0",componentValueUnit:"个",componentValueRange:{min:"0",max:"2147480000"},componentValueArray:null,componentValueSwitch:null,visible:!0},{id:3,name:"出奖总数",length:4,disabled:!1,description:"",componentType:"inputInt",componentValueType:"int",componentValue:"0",componentValueUnit:"个",componentValueRange:{min:"0",max:"2147480000"},componentValueArray:null,componentValueSwitch:null,visible:!0},{id:4,name:"兑币营收总账",length:4,disabled:!1,description:"",componentType:"inputInt",componentValueType:"int",componentValue:"0",componentValueUnit:"元",componentValueRange:{min:"0",max:"2147480000"},componentValueArray:null,componentValueSwitch:null,visible:!1},{id:5,name:"线上投币总数",length:4,disabled:!1,description:"",componentType:"inputInt",componentValueType:"int",componentValue:"0",componentValueUnit:"个",componentValueRange:{min:"0",max:"2147480000"},componentValueArray:null,componentValueSwitch:null,visible:!0}],refresh:!1},{name:"恢复出厂设置",queryFunctionCode:0,functionCode:11,disabled:!1,paramsLength:0,params:null,refresh:!1},{name:"清奖池",queryFunctionCode:0,functionCode:28,disabled:!1,paramsLength:0,params:null,refresh:!1},{name:"清账目",queryFunctionCode:0,functionCode:12,disabled:!1,paramsLength:0,params:null,refresh:!1},{name:"清当前局数",queryFunctionCode:0,functionCode:7,disabled:!1,paramsLength:0,params:null,refresh:!1}],errors:[{errCode:0,errMsg:"正常",errFlag:!1},{errCode:1,errMsg:"投币器1错误",errFlag:!0},{errCode:2,errMsg:"投币器2错误",errFlag:!0},{errCode:3,errMsg:"光眼错误",errFlag:!0},{errCode:4,errMsg:"天车后微动错误",errFlag:!0},{errCode:5,errMsg:"天车前微动错误",errFlag:!0},{errCode:6,errMsg:"天车左微动错误",errFlag:!0},{errCode:7,errMsg:"天车上微动错误",errFlag:!0},{errCode:8,errMsg:"天车下微动错误",errFlag:!0},{errCode:9,errMsg:"天车到达礼品口错误",errFlag:!0},{errCode:10,errMsg:"天车回到起始位置错误",errFlag:!0},{errCode:11,errMsg:"主板存储器错误",errFlag:!0},{errCode:12,errMsg:"奖池错误",errFlag:!0}],group:!0}}},qBRV:function(e,t,n){"use strict";n.r(t);n("gDS+");var r=n("14Xm"),o=n.n(r),a=n("D3Ub"),i=n.n(a),l=n("qpgI"),u=n("B5LO"),c=n("mG/D"),s={filters:{deviceFilter:function(e){return c.c[e]},communicationFilter:function(e){return c.a[e]}},data:function(){return{lyyDistributorId:"",list:[],colums:[{key:"description",label:"套餐名称"},{key:"price",label:"价格(元)"},{key:"serviceTime",label:"时长(分钟)"},{key:"coins",label:"模拟投币数"}],pageInfo:{total:0},selectList:[],dialogFormVisible:!1,deviceType:"",equipmentArr:[],communication:"",modalData:{description:"",price:"",coins:"",serviceTime:""},merchantList:[],baseInfoRules:{description:[{required:!0,message:"请输入套餐名称",trigger:"blur"}],serviceTime:[{required:!0,validator:u.d,trigger:"blur"}],coins:[{required:!0,validator:u.a,trigger:"blur"}],price:[{required:!0,validator:u.c,trigger:"blur"}]}}},created:function(){this.deviceType=this.$route.query.deviceType,this.equipmentArr=this.$route.query.equipmentArr,this.communication=this.$route.query.communication,this.queryList(),this.getMerchantList()},methods:{queryList:function(){var e=this;return i()(o.a.mark(function t(){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.list=[],n={communication:e.communication,equipmentType:e.deviceType,pageSize:400,pageIndex:1},t.next=4,Object(l.a)(n);case 4:0===(r=t.sent).result&&(e.listLoading=!1,r.data?(e.list=r.data.items||[],e.pageInfo.total=r.data.total||0):e.pageInfo.total=0);case 6:case"end":return t.stop()}},t,e)}))()},getMerchantList:function(){var e=this;return i()(o.a.mark(function t(){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.h)();case 2:0===(n=t.sent).result&&(e.merchantList=n.data);case 4:case"end":return t.stop()}},t,e)}))()},handleSelectionChange:function(e){this.selectList=e},handleSaveModal:function(){this.dialogFormVisible=!0,this.modalData={description:"",price:"",coins:"",serviceTime:""}},handleSave:function(){var e=this;this.$refs.baseInfoRules.validate(function(t){if(!t)return!1;e.list.some(function(t){return parseInt(t.coins,10)===parseInt(e.modalData.coins,10)||parseInt(t.serviceTime,10)===parseInt(e.modalData.serviceTime,10)})?e.$message({message:"套餐不能重复, 模拟投币数或时长均不可重复",type:"error"}):(e.list=[e.modalData].concat(e.list),e.selectList.push(e.modalData),e.dialogFormVisible=!1)})},handleBatchSave:function(){var e=this;return i()(o.a.mark(function t(){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.selectList.length){t.next=3;break}return e.$message({message:"请至少选择一个服务套餐",type:"error"}),t.abrupt("return");case 3:if(e.lyyDistributorId){t.next=6;break}return e.$message({message:"请选择要绑定的商家",type:"error"}),t.abrupt("return");case 6:return n={communication:e.communication,equipmentType:e.deviceType,values:e.equipmentArr,lyyDistributorId:e.lyyDistributorId,lyyGroupServices:e.selectList},Array.isArray(e.equipmentArr)||(n.values=[e.equipmentArr]),t.next=10,Object(l.b)(n);case 10:0===t.sent.result?(e.handleCancel(),e.$message({message:"设备注册成功",type:"success"})):e.$message({message:"设备注册失败",type:"error"});case 12:case"end":return t.stop()}},t,e)}))()},handleCancel:function(){window.history.go(-1)}}},p=(n("i/up"),n("KHd+")),m=Object(p.a)(s,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-area"},[n("h1",{staticStyle:{margin:"10px 0px"}},[e._v("注册设备：已选"+e._s(e.equipmentArr.length)+"台；设备类型："+e._s(e._f("deviceFilter")(e.deviceType))+"；通信方式："+e._s(e._f("communicationFilter")(e.communication)))]),e._v(" "),n("el-form",{attrs:{inline:!0,"label-width":"90px","label-position":"left"}},[n("el-form-item",{attrs:{label:"绑定商家"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.lyyDistributorId,callback:function(t){e.lyyDistributorId=t},expression:"lyyDistributorId"}},e._l(e.merchantList,function(e){return n("el-option",{key:e.value,attrs:{label:e.name,value:e.adOrgId}})}))],1)],1),e._v(" "),n("div",{staticClass:"table-title-info"},[n("span",[e._v("服务套餐")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.handleSaveModal}},[e._v("添加其他套餐")])],1),e._v(" "),n("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.list,border:"","highlight-current-row":"",height:"400"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),e._l(e.colums,function(e,t){return n("el-table-column",{key:t,attrs:{prop:e.key,label:e.label,width:e.width,sortable:e.sortable,align:"center"}})})],2),e._v(" "),n("el-pagination",{attrs:{total:e.pageInfo.total,"current-page":e.pageInfo.currPage,background:"",layout:"total, pager"}}),e._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("el-button",{on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),n("el-button",{staticStyle:{"margin-left":"100px"},attrs:{type:"primary"},on:{click:e.handleBatchSave}},[e._v("完成")]),e._v(" "),n("div",{staticStyle:{color:"red","margin-top":"20px"}},[e._v("注：设备注册成功后，设备绑定在商家的默认场地下。")])],1),e._v(" "),n("el-dialog",{staticStyle:{width:"1000px"},attrs:{visible:e.dialogFormVisible,title:"编辑套餐服务"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{ref:"baseInfoRules",staticStyle:{"margin-top":"20px"},attrs:{model:e.modalData,rules:e.baseInfoRules,"label-width":"120px","label-position":"right"}},[n("el-form-item",{attrs:{label:"套餐名称",prop:"description"}},[n("el-input",{staticClass:"input-300",attrs:{placeholder:"请输入套餐名称",maxlength:"10"},model:{value:e.modalData.description,callback:function(t){e.$set(e.modalData,"description",t)},expression:"modalData.description"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"价格(元)",prop:"price"}},[n("el-input",{staticClass:"input-300",attrs:{placeholder:"请输入价格",type:"number",maxlength:"16",clearable:""},model:{value:e.modalData.price,callback:function(t){e.$set(e.modalData,"price",t)},expression:"modalData.price"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"时长(分钟)",prop:"serviceTime"}},[n("el-input",{staticClass:"input-300",attrs:{placeholder:"请输入时长",type:"tel",maxlength:"6",clearable:""},model:{value:e.modalData.serviceTime,callback:function(t){e.$set(e.modalData,"serviceTime",t)},expression:"modalData.serviceTime"}})],1),e._v(" "),"1"!==e.communication?[n("el-form-item",{attrs:{label:"模拟投币数",prop:"coins"}},[n("el-input",{staticClass:"input-300",attrs:{placeholder:"请输入模拟投币数",type:"number",maxlength:"11",clearable:""},model:{value:e.modalData.coins,callback:function(t){e.$set(e.modalData,"coins",t)},expression:"modalData.coins"}})],1)]:e._e()],2),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("保存并使用")])],1)],1)],1)},[],!1,null,null,null);m.options.__file="register.vue";t.default=m.exports},qpgI:function(e,t,n){"use strict";n.d(t,"r",function(){return o}),n.d(t,"n",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"h",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"s",function(){return c}),n.d(t,"g",function(){return s}),n.d(t,"m",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"l",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"i",function(){return g}),n.d(t,"q",function(){return y}),n.d(t,"d",function(){return v}),n.d(t,"f",function(){return b}),n.d(t,"j",function(){return V}),n.d(t,"p",function(){return x}),n.d(t,"o",function(){return w});var r=n("t3Un");function o(e){return Object(r.a)({url:"/rest/factory/unbundling",method:"post",data:e})}function a(e){return Object(r.a)({url:"/rest/factory/savaEquipmentService",method:"post",data:e})}function i(e){return Object(r.a)({url:"/rest/factory/batchRegisteredEquipment",method:"post",data:e})}function l(){return Object(r.a)({url:"/query/merchants",method:"get"})}function u(e){return Object(r.a)({url:"/rest/factory/dateleEquipmentService",method:"post",data:e})}function c(e){return Object(r.a)({url:"/rest/factory/updateEquipmentService",method:"post",data:e})}function s(e){return Object(r.a)({url:"/rest/factory/groupServiceList",method:"get",params:e})}function p(e){return Object(r.a)({url:"/rest/factory/registeredLogList",method:"get",params:e})}function m(e){return Object(r.a)({url:"/rest/factory/registeredDetailList",method:"get",params:e})}function d(e){return Object(r.a)({url:"/rest/factory/registeredList",method:"get",params:e})}function f(e){return Object(r.a)({url:"/rest/factory/agentGroupServiceList",method:"get",params:e})}function h(e){return Object(r.a)({url:"/rest/setting/lyyopen/load",method:"get",params:e})}function g(e){return Object(r.a)({url:"/rest/setting/lyyopen/query",method:"post",data:e})}function y(e){return Object(r.a)({url:"/rest/setting/setting/ty",method:"get",params:e})}function v(e){return Object(r.a)({url:"/rest/setting/cxNewEquipment",method:"get",params:e})}function b(e){return Object(r.a)({url:"/rest/setting/getEquipmentParamDef",method:"get",params:e})}function V(e){return Object(r.a)({url:"/rest/setting/readNewEquipment",method:"get",params:e})}function x(e){return Object(r.a)({url:"/rest/setting/szNewEquipment",method:"get",params:e})}function w(e){return Object(r.a)({url:"/rest/setting/setEquipment",method:"post",data:e})}},u938:function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,a=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n("ls82"),o)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}}}]);