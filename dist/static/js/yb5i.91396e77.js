(window.webpackJsonp=window.webpackJsonp||[]).push([["yb5i"],{yb5i:function(e,a,t){"use strict";t.r(a);var r=t("7Qib"),l=t("Yfch"),n=t("t3Un");var s=Date.now(),o={disabledDate:function(e){var a=e.getTime();return a<s-5184e6||a>s}},i={data:function(){return{queryParams:{agentUserName:"",associateSellerPhone:"",associateSellerName:""},dateRange:[],listLoading:!0,list:[],colums:[{key:"agentUserName",label:"代理商名称",width:250},{key:"associateSellerPhone",label:"账号"},{key:"equipmentTotalCount",label:"设备总数",sortable:!0},{key:"equipmentOnlineCount",label:"在线设备数量",sortable:!0},{key:"orderCount",label:"订单数量",sortable:!0},{key:"totalIncome",label:"收入总额",sortable:!0},{key:"onlineIncome",label:"在线收入",sortable:!0},{key:"cashIncome",label:"现金收入",sortable:!0},{key:"adIncome",label:"广告收入",sortable:!0}],pageInfo:{total:20,pageSize:10,currPage:1},options:o}},beforeMount:function(){this.dateRange[0]=Object(r.d)(Date.now()-864e5,"{y}-{m}-{d}"),this.dateRange[1]=Object(r.d)(Date.now()-864e5,"{y}-{m}-{d}"),this.queryList()},methods:{resetQueryParams:function(){this.queryParams={agentUserName:"",associateSellerPhone:"",associateSellerName:""},this.dateRange=[],this.dateRange[0]=Object(r.d)(Date.now()-864e5,"{y}-{m}-{d}"),this.dateRange[1]=Object(r.d)(Date.now()-864e5,"{y}-{m}-{d}")},handleQueryParams:function(){this.queryParams.associateSellerPhone&&Object(l.b)(this.queryParams.associateSellerPhone)||!this.queryParams.associateSellerPhone?this.queryList(this.pageInfo.currPage):this.$message({message:"请正确输入11位手机号码",type:"error"})},queryList:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.listLoading=!0,this.list=[],this.pageInfo.currPage=a;var t,r=this.queryParams;r.pageIndex=this.pageInfo.currPage,r.pageSize=this.pageInfo.pageSize,r.startDate=this.dateRange[0],r.endDate=this.dateRange[1],(t=r,Object(n.a)({url:"/rest/reportFroms/query",method:"post",data:t})).then(function(a){e.listLoading=!1,a.data?(e.list=a.data&&a.data.items||[],e.pageInfo.total=a.data.total||0):e.pageInfo.total=0})},handleSizeChange:function(e){this.pageInfo.pageSize=e,this.queryList(this.pageInfo.currPage)},handleCurrentChange:function(e){this.queryList(e)}}},c=t("KHd+"),u=Object(c.a)(i,function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"content-area"},[t("el-form",{staticStyle:{"margin-bottom":"20px"},attrs:{inline:!0,"label-width":"100px","label-position":"right"}},[t("el-form-item",{attrs:{label:"统计日期"}},[t("el-date-picker",{attrs:{clearable:!1,"picker-options":e.options,type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.dateRange,callback:function(a){e.dateRange=a},expression:"dateRange"}})],1),e._v(" "),t("p"),e._v(" "),t("el-form-item",{attrs:{label:"代理商名称"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入代理商名称"},model:{value:e.queryParams.agentUserName,callback:function(a){e.$set(e.queryParams,"agentUserName",a)},expression:"queryParams.agentUserName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"商家名称"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入商家名称"},model:{value:e.queryParams.associateSellerName,callback:function(a){e.$set(e.queryParams,"associateSellerName",a)},expression:"queryParams.associateSellerName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"商家手机号码"}},[t("el-input",{attrs:{type:"tel",placeholder:"请输入商家手机号码"},model:{value:e.queryParams.associateSellerPhone,callback:function(a){e.$set(e.queryParams,"associateSellerPhone",a)},expression:"queryParams.associateSellerPhone"}})],1),e._v(" "),t("p"),e._v(" "),t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleQueryParams}},[e._v("查询")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.resetQueryParams}},[e._v("清空查询")])],1),e._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.list,height:450,border:""}},e._l(e.colums,function(e,a){return t("el-table-column",{key:a,attrs:{prop:e.key,label:e.label,width:e.width,sortable:e.sortable,align:"center"}})})),e._v(" "),t("el-pagination",{attrs:{"page-sizes":[10,20,30,40],"page-size":e.pageInfo.pageSize,total:e.pageInfo.total,"current-page":e.pageInfo.currPage,background:"",layout:"total, prev, pager, next, sizes, jumper"},on:{"size-change":e.handleSizeChange,"prev-click":e.handleCurrentChange,"next-click":e.handleCurrentChange,"current-change":e.handleCurrentChange}})],1)},[],!1,null,null,null);u.options.__file="ManagerReport.vue";a.default=u.exports}}]);