(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1d6d"],{ACzA:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return l});var n=a("t3Un");function r(){return Object(n.a)({url:"/equipment/getEquipmentTypes",method:"get"})}function l(){return Object(n.a)({url:"/rest/equipment/equipmentType/querySHL",method:"get"})}},WAGU:function(e,t,a){"use strict";a.r(t);var n=a("omMh"),r=a("ACzA"),l={data:function(){return{listLoading:!0,queryParams:{userName:"",equipmentTypeValue:"",bdName:""},list:[],equipmentTypesArr:[],DBlist:[],colums:[{key:"contractId",label:"合同编号"},{key:"agentUserName",label:"代理名称"},{key:"userName",label:"账号"},{key:"bunissesNames",label:"经营项目"},{key:"equipmentTypeName",label:"设备类型"},{key:"equipmentCount",label:"已导入设备总量"},{key:"equipmentOnlineCount",label:"昨日在线设备量"},{key:"subordinateCount",label:"下级代理数量"},{key:"subordinateMerchantCount",label:"下级商家数量"},{key:"bdName",label:"BD人员"},{key:"createDate",label:"创建日期"}],pageInfo:{total:0,pageSize:10,currPage:1},angentInfo:[]}},created:function(){this.queryEquipList(),this.queryBDList(),this.queryList()},methods:{queryBDList:function(){var e=this;n.a.getUserByRole().then(function(t){0===t.result&&t.data&&t.data.length&&t.data.forEach(function(t){e.DBlist.push({value:t.adUserId,label:t.username})})})},queryEquipList:function(){var e=this;Object(r.b)().then(function(t){0===t.result&&t.data&&t.data.length&&t.data.forEach(function(t){e.equipmentTypesArr.push({value:t.code,label:t.name})})})},queryList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.angentInfo=[],this.list=[],this.pageInfo.currPage=t;var a={pageSize:this.pageInfo.pageSize,pageIndex:this.pageInfo.currPage};a.userName=this.queryParams.userName,a.equipmentTypeValue=this.queryParams.equipmentTypeValue,a.bdName=this.queryParams.bdName,n.a.queryFirstAgentsByControl(a).then(function(t){e.listLoading=!1,t.data?(e.list=t.data.items||[],e.pageInfo.total=t.data.total||0):e.pageInfo.total=0})},handleSizeChange:function(e){this.pageInfo.pageSize=e,this.pageInfo.total=0,this.queryList(1)},handleCurrentChange:function(e){this.queryList(e)},filterQueryList:function(){this.pageInfo.total=0,this.queryList(this.pageInfo.currPage)}}},i=a("KHd+"),u=Object(i.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-area"},[a("el-form",{staticStyle:{"margin-bottom":"20px"},attrs:{inline:!0,"label-position":"right"}},[a("el-form-item",{attrs:{label:"BD人员"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.queryParams.bdName,callback:function(t){e.$set(e.queryParams,"bdName",t)},expression:"queryParams.bdName"}},e._l(e.DBlist,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"设备类型"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.queryParams.equipmentTypeValue,callback:function(t){e.$set(e.queryParams,"equipmentTypeValue",t)},expression:"queryParams.equipmentTypeValue"}},e._l(e.equipmentTypesArr,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-input",{staticClass:"input-300",attrs:{placeholder:"请输入代理账号",maxlength:"11",clearable:""},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.filterQueryList}},[e._v("查询")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.list,height:550,border:"","highlight-current-row":""}},e._l(e.colums,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.key,label:e.label,width:e.width,sortable:e.sortable,align:"center"}})})),e._v(" "),a("el-pagination",{attrs:{"page-sizes":[10,20,30,40],"page-size":e.pageInfo.pageSize,total:e.pageInfo.total,"current-page":e.pageInfo.currPage,background:"",layout:"total, prev, pager, next, sizes, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},[],!1,null,null,null);u.options.__file="AgentListControl.vue";t.default=u.exports}}]);