(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2121"],{"6daY":function(t,e,n){},"7jAm":function(t,e,n){"use strict";n.r(e);var a=n("cLjf"),r=n.n(a),s=n("hDQ3"),o=n.n(s),i=n("mt21"),l=n("xBhl"),c=n("kbZS"),u=n("9x5b"),p={data:function(){return{baseInfo:{title:"",agentUserId:"",isdel:"N",wechatImg:"",telephone:"",bannerImg:"",adBrandConfigId:""},baseInfoRules:{},imageUrl:"",bannerUrl:"",wechartUrl:"",uploadUrl:c.a,preUrl:"http://lyy-public.oss-cn-shenzhen.aliyuncs.com/",linkInfo:"",btn:""}},created:function(){this.getAngentInfo()},mounted:function(){},methods:{handleClipboard:function(){Object(u.a)(this.linkInfo,event)},getAngentInfo:function(){var t=this;return o()(r.a.mark(function e(){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.c)();case 2:0===(n=e.sent).result&&n.data&&n.data.agentUserId&&(t.linkInfo="https://b.leyaoyao.com/group/index.html?ag="+n.data.agentUserId,t.getAdConfig(n.data.agentUserId));case 4:case"end":return e.stop()}},e,t)}))()},getAdConfig:function(t){var e=this;return o()(r.a.mark(function n(){var a;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.c)({agentUserId:t});case 2:0===(a=n.sent).result&&(a.data?(e.baseInfo=a.data,e.bannerUrl=""+e.preUrl+e.baseInfo.bannerImg,e.wechartUrl=""+e.preUrl+e.baseInfo.wechatImg):e.baseInfo={title:"",agentUserId:t,isdel:"N",wechatImg:"",telephone:"",bannerImg:"",adBrandConfigId:""});case 4:case"end":return n.stop()}},n,e)}))()},handleAvatarSuccess:function(t,e){this.baseInfo.bannerImg=t.para,this.bannerUrl=""+this.preUrl+t.para},handleWechartSuccess:function(t,e){this.baseInfo.wechatImg=t.para,this.wechartUrl=""+this.preUrl+t.para},beforeAvatarUpload:function(t){var e=t.size/1024/1024<.5,n="image/jpeg"===t.type||"image/png"===t.type||"image/jpg"===t.type;return n||this.$message.error("文件格式为jpeg，png，jpg"),e||this.$message.error("文件大小不能超过500K!"),n&&e},handleBaseInfo:function(){var t=this;this.$refs.baseInfoRef.validate(function(e){if(!e)return!1;t.handleAngentInfo()})},handleAngentInfo:function(){var t=this,e=this.baseInfo;!e.title||e.wechatImg||e.telephone||e.bannerImg?Object(i.a)(e).then(function(e){0===e.result?t.$message({message:e.data||"消费者前台信息配置成功",type:"success"}):t.$message({message:"配置信息失败",type:"error"})}):this.$message({message:"至少输入一项配置信息失败",type:"error"})}}},f=(n("aoSI"),n("ZrdR")),d=Object(f.a)(p,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-area"},[a("div",{staticStyle:{"border-bottom":"1px solid #f0f0f0"}},[a("h1",{staticStyle:{"font-size":"28px","font-weight":"700"}},[t._v("运营商后台定制链接")]),t._v(" "),a("el-form",{staticStyle:{"margin-top":"20px"},attrs:{"label-position":"right"}},[a("el-form-item",[a("el-input",{staticClass:"input-600",attrs:{placeholder:"链接地址",type:"text",readonly:"",maxlength:"10",clearable:""},model:{value:t.linkInfo,callback:function(e){t.linkInfo=e},expression:"linkInfo"}}),t._v(" "),a("el-button",{staticClass:"copy-link",attrs:{type:"primary"},on:{click:function(e){t.handleClipboard(e)}}},[t._v("复制链接")]),t._v(" "),a("p",{staticClass:"input-anno"},[t._v("1.通过定制链接进入管理后台可实现以下配置的功能。")]),t._v(" "),a("p",{staticClass:"input-anno"},[t._v("2.可将链接插入公众号菜单或发送给运营商。")])],1)],1)],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px","border-bottom":"1px solid #f0f0f0"}},[a("h1",{staticStyle:{"font-size":"28px","font-weight":"700"}},[t._v("品牌信息配置")]),t._v(" "),a("el-form",{ref:"baseInfoRef",staticStyle:{"margin-top":"20px"},attrs:{model:t.baseInfo,rules:t.baseInfoRules,"label-width":"180px","label-position":"right"}},[a("el-form-item",{attrs:{label:"运营商后台标题"}},[a("el-input",{staticClass:"input-300",attrs:{placeholder:"请输入运营商后台标题",type:"text",maxlength:"10",clearable:""},model:{value:t.baseInfo.title,callback:function(e){t.$set(t.baseInfo,"title",e)},expression:"baseInfo.title"}}),t._v(" "),a("span",{staticClass:"input-anno"},[t._v("运营商管理后台页面顶部标题，最多可输入10个文字\n          "),a("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[a("img",{staticClass:"popver-img",attrs:{src:n("w4u3")}}),t._v(" "),a("span",{staticStyle:{color:"#409EFF"},attrs:{slot:"reference"},slot:"reference"},[t._v("查看示例>")])])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"运营商后台logo"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload,action:t.uploadUrl}},[t.bannerUrl?a("img",{staticClass:"avatar",staticStyle:{width:"74px",height:"98px"},attrs:{src:t.bannerUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),a("p",{staticClass:"input-anno"},[t._v("1.运营商后台登陆页logo，\n          "),a("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[a("img",{staticClass:"popver-img",attrs:{src:n("T/0B")}}),t._v(" "),a("span",{staticStyle:{color:"#409EFF"},attrs:{slot:"reference"},slot:"reference"},[t._v("查看示例>")])])],1),t._v(" "),a("p",{staticClass:"input-anno"},[t._v("2.建议尺寸：148*195px，文件大小不超过500k，建议格式：png格式，透明底")])],1),t._v(" "),a("el-form-item",{attrs:{label:"运营商后台客服电话"}},[a("el-input",{staticClass:"input-300",attrs:{placeholder:"请输入运营商后台客服电话",type:"text",maxlength:"10",clearable:""},model:{value:t.baseInfo.telephone,callback:function(e){t.$set(t.baseInfo,"telephone",e)},expression:"baseInfo.telephone"}}),t._v(" "),a("span",{staticClass:"input-anno"},[a("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[a("img",{staticClass:"popver-img",attrs:{src:n("k0dd")}}),t._v(" "),a("span",{staticStyle:{color:"#409EFF"},attrs:{slot:"reference"},slot:"reference"},[t._v("查看示例>")])])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"运营商后台客服微信"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"on-success":t.handleWechartSuccess,"before-upload":t.beforeAvatarUpload,action:t.uploadUrl}},[t.wechartUrl?a("img",{staticClass:"avatar",staticStyle:{width:"130px",height:"130px"},attrs:{src:t.wechartUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),a("span",{staticClass:"input-anno"},[t._v("请上传客服公众号或个人微信二维码; 建议尺寸：344*344px\n          "),a("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[a("img",{staticClass:"popver-img",attrs:{src:n("pZYu")}}),t._v(" "),a("span",{staticStyle:{color:"#409EFF"},attrs:{slot:"reference"},slot:"reference"},[t._v("查看示例>")])])],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.handleBaseInfo}},[t._v("保存")])],1)],1)],1),t._v(" "),t._m(0)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"margin-top":"20px"}},[e("h1",{staticStyle:{"font-size":"28px","font-weight":"700"}},[this._v("功能配置")]),this._v(" "),e("div",{staticStyle:{height:"160px","line-height":"160px","text-align":"center","font-weight":"700","font-size":"30px"}},[this._v("功能开发中，敬请期待！")])])}],!1,null,null,null);d.options.__file="ToBBrand.vue";e.default=d.exports},"9x5b":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var a=n("Mpsw"),r=n("fL11"),s=n.n(r);function o(t,e){var n=new s.a(e.target,{text:function(){return t}});n.on("success",function(){a.default.prototype.$message({message:"复制链接成功",type:"success",duration:1500}),n.off("error"),n.off("success"),n.destroy()}),n.on("error",function(){a.default.prototype.$message({message:"Copy failed",type:"error"}),n.off("error"),n.off("success"),n.destroy()}),n.onClick(e)}},"T/0B":function(t,e,n){t.exports=n.p+"static/img/logo.8b6e892.png"},aoSI:function(t,e,n){"use strict";var a=n("6daY");n.n(a).a},k0dd:function(t,e,n){t.exports=n.p+"static/img/phone.ba6d674.png"},kbZS:function(t,e,n){"use strict";e.a="/agent/rest/file/upload"},mt21:function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return i});var a=n("t3Un");function r(t){return Object(a.a)({url:"/rest/adConsumersConfig/getAdConsumersConfig",method:"get",params:t})}function s(t){return Object(a.a)({url:"/rest/adBrandConfig/getAdBrandConfig",method:"get",params:t})}function o(t){return Object(a.a)({url:"/rest/adConsumersConfig/editAdConsumersConfig",method:"post",data:t})}function i(t){return Object(a.a)({url:"/rest/adBrandConfig/editAdBrandConfig",method:"post",data:t})}},pZYu:function(t,e,n){t.exports=n.p+"static/img/qrcode.cae50bf.png"},w4u3:function(t,e,n){t.exports=n.p+"static/img/b-title.1e5844e.png"},xBhl:function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"h",function(){return s}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"b",function(){return p});var a=n("t3Un");function r(t){return Object(a.a)({url:"/agentManage/sendCode",method:"get",params:t})}function s(t){return Object(a.a)({url:"/agentManage/updateAgent",method:"post",data:t})}function o(t){return Object(a.a)({url:"/agentManage/addAgent",method:"post",data:t})}function i(t){return Object(a.a)({url:"/agentManage/getAgent",method:"get",params:t})}function l(t){return Object(a.a)({url:"/agentManage/getMerchant",method:"get",params:t})}function c(t){return Object(a.a)({url:"/agentManage/secondAgents/querySecondAgents",method:"get",params:t})}function u(){return Object(a.a)({url:"/agentManage/getIssend",method:"get"})}function p(t){return Object(a.a)({url:"/agentManage/deleteAgent",method:"post",data:t})}}}]);