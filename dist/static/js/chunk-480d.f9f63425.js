(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-480d"],{O0jG:function(e,t,a){},OSok:function(e,t,a){"use strict";a.r(t);a("omC7");var n=a("cLjf"),o=a.n(n),i=a("hDQ3"),s=a.n(i),r=a("qpgI"),l={name:"ParamC",components:{verfyCode:a("YKrQ").default},data:function(){return{dataList:[],para:[],disabled:!1,queryParams:{},verfyCodeVisible:!1,phoneNumber:"",name:""}},created:function(){this.queryParams=this.$route.query,this.phoneNumber=this.$route.query.phoneNumber,this.name=this.$route.query.name,this.queryList()},methods:{queryList:function(){var e=this;return s()(o.a.mark(function t(){var a,n,i,s,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],t.next=3,Object(r.r)(e.queryParams);case 3:for(i in 0===(n=t.sent).result?e.$message({message:n.description,type:"error"}):4===n.result&&n.para.buttons.forEach(function(t){t.functionCode==e.queryParams.functionCode&&(a=t.params)}),a)for(s in"select"===a[i].componentType&&(a[i].componentValue=parseInt(a[i].componentValue)),a[i])"componentValueRange"!==s&&"componentValueSwitch"!==s&&"componentValueArray"!==s||(l=a[i][s],a[i][s]=l);e.dataList=a;case 7:case"end":return t.stop()}},t,e)}))()},handleSaveBefore:function(){for(var e in this.dataList)if("inputInt"===this.dataList[e].componentType||"inputFloat"===this.dataList[e].componentType){var t=this.dataList[e].componentValueRange;if(this.dataList[e].componentValue<parseFloat(t.min)||this.dataList[e].componentValue>parseFloat(t.max))return void this.$message({message:this.dataList[e].name+"超出取值范围",type:"error"})}this.verfyCodeVisible=!0},handleSave:function(){var e=this;return s()(o.a.mark(function t(){var a,n,i,s,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=o.a.keys(e.dataList);case 1:if((t.t1=t.t0()).done){t.next=11;break}if(a=t.t1.value,"inputInt"!==e.dataList[a].componentType&&"inputFloat"!==e.dataList[a].componentType){t.next=9;break}if(n=e.dataList[a].componentValueRange,!(e.dataList[a].componentValue<parseFloat(n.min)||e.dataList[a].componentValue>parseFloat(n.max))){t.next=9;break}return e.$message({message:e.dataList[a].name+"超出取值范围",type:"error"}),t.abrupt("return");case 9:t.next=1;break;case 11:for(s in i={},e.dataList)e.dataList[s].visible&&(i[s]=e.dataList[s].componentValue);return i.functionCode=e.queryParams.functionCode,i.uniqueCode=e.queryParams.uniqueCode,t.next=18,Object(r.s)(i);case 18:1===(l=t.sent).result?(e.verfyCodeVisible=!1,e.$message({message:"修改成功",type:"success"}),e.queryList()):e.$message({message:l.description,type:"error"});case 20:case"end":return t.stop()}},t,e)}))()},reload:function(){window.location.reload()},back:function(){window.history.go(-1)}}},c=(a("aBqn"),a("ZrdR")),u=Object(c.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lyy-open"},[a("div",{staticStyle:{margin:"20px"}},e._l(e.para,function(t,n){return a("el-radio",{key:n,staticStyle:{"margin-right":"30px"},attrs:{label:t.cmd,value:n},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(t.name))])})),e._v(" "),a("el-form",{ref:"ruleForm",staticStyle:{"margin-bottom":"20px"},attrs:{inline:!0,"label-width":"100px","label-position":"center"}},e._l(e.dataList,function(t,n){return a("el-form-item",{key:n,class:{"display-none-key":!t.visible},attrs:{label:t.name}},["inputFloat"===t.componentType||"inputInt"===t.componentType?[a("el-input",{staticStyle:{width:"320px"},attrs:{disabled:e.disabled,type:"number",maxlength:"16",clearable:""},model:{value:t.componentValue,callback:function(a){e.$set(t,"componentValue",a)},expression:"item.componentValue"}},[a("template",{slot:"append"},[e._v("\n            "+e._s(t.componentValueUnit)+"\n            "),a("span",{staticStyle:{color:"red"}},[e._v("【取值范围"+e._s(t.componentValueRange.min)+"-"+e._s(t.componentValueRange.max)+"】")])])],2)]:"switch"===t.componentType?[a("el-switch",{staticStyle:{width:"320px"},attrs:{"active-value":t.componentValueSwitch.open,"inactive-value":t.componentValueSwitch.close,disabled:e.disabled,"active-color":"#13ce66"},model:{value:t.componentValue,callback:function(a){e.$set(t,"componentValue",a)},expression:"item.componentValue"}})]:"select"===t.componentType?[a("el-select",{staticStyle:{width:"320px"},attrs:{placeholder:"请选择"},model:{value:t.componentValue,callback:function(a){e.$set(t,"componentValue",a)},expression:"item.componentValue"}},e._l(t.componentValueArray,function(t,n){return a("el-option",{key:n,attrs:{label:t.text,value:t.value,disabled:e.disabled}})}))]:e._e()],2)})),e._v(" "),a("div",{staticStyle:{"text-align":"left","margin-top":"60px","margin-left":"20px"}},[a("el-button",{attrs:{type:"success"},on:{click:e.back}},[e._v("返回上一页")]),e._v(" "),e.disabled?e._e():a("el-button",{staticStyle:{"margin-left":"40px"},on:{click:e.queryList}},[e._v("刷新")]),e._v(" "),e.disabled?e._e():a("el-button",{staticStyle:{"margin-left":"40px"},attrs:{type:"primary"},on:{click:e.handleSaveBefore}},[e._v("保存设置")])],1),e._v(" "),a("verfyCode",{attrs:{"phone-number":e.phoneNumber,name:e.name},on:{"on-OK":e.handleSave},model:{value:e.verfyCodeVisible,callback:function(t){e.verfyCodeVisible=t},expression:"verfyCodeVisible"}})],1)},[],!1,null,null,null);u.options.__file="deviceParamsTyButton.vue";t.default=u.exports},aBqn:function(e,t,a){"use strict";var n=a("O0jG");a.n(n).a}}]);